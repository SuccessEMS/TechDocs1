<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1 MadCap:autonum="CHAPTER&#160;1: ">
            <MadCap:concept term="V44.1" />LDAP Authentication</h1>
        <h2>Overview&#160;</h2>
        <p>Lightweight Directory Access Protocol (LDAP) is an application protocol for querying directory information. The LDAP Authentication method provides single-sign-on capability using your organization’s LDAP environment and can be used in both intranet and internet deployments of EMS Everyday applications such as EMS Web App and EMS Mobile App.&#160;</p>
        <p>
            <img src="Images/IntegAuthen_Guide/Introduction_1.png" class="PDFmedium" />
        </p>
        <p>This topic provides information on the following:</p>
        <ul class="unorder-list">
            <li><a href="#Configure_EMS_Web_App_to_Use_LDAP_Authentication">Configure EMS Web App to Use LDAP Authentication</a>
            </li>
            <li><a href="#Configure_EMS_Web_App_Security">Configure EMS Web App Security</a>
            </li>
            <li><a href="#Configure_Communication_Options">Configure Communication Options</a>
            </li>
            <li><a href="#Core_Properties">Core Properties</a>
            </li>
            <li><a href="#Non-AD_Configuration">Non-AD Config</a>
            </li>
            <li><a href="#LDAP_Queries">LDAP Queries</a>
            </li>
            <li><a href="#Save_Your_Configuration">Save Your Configuration</a>
            </li>
            <li><a href="#Test_Your_Configuration">Test Your Configuration</a>
            </li>
            <li><a href="#Configure_Authentication_for_EMS_Mobile_App">Configure Authentication for EMS Mobile App</a>
            </li>
        </ul>
        <p>When a user logs into EMS Web App or EMS Mobile App with their User ID and Password, their credentials are authenticated against LDAP and compared against corresponding user information recorded in the&#160;<span class="bold">Network ID</span>&#160;and/or&#160;<span class="bold">External Reference</span>&#160;fields of your EMS Everyday User records. If a match exists, the Everyday User will be logged in to the application, inheriting any Everyday User Process Template rights to which&#160;their LDAP Group has been assigned.</p>
        <div class="box-note">
            <p><span class="bold">NOTES:</span>
            </p>
            <ul class="unorder-list">
                <li>The EMS Web App LDAP-Process Template assignment process requires that your implementation of LDAP stores group information (e.g., staff, student, department, etc.) as a Directory Service object containing a property (i.e., member) that contains the users that belong to your various groups.&#160;</li>
                <li>The&#160;Field Used to Authenticate Everyday User&#160;parameter (within&#160;<span class="bold">System Administration</span> &gt; <span class="bold">Settings </span>&gt;&#160;<span class="bold">Parameters&#160;</span>&gt; <span class="bold">Everyday User Applications</span> tab) is used by the applications&#160;to determine which value should be used for authentication.</li>
            </ul>
        </div>
        <h2><a name="Configure_EMS_Web_App_to_Use_LDAP_Authentication"></a>Configure&#160;EMS Web App to Use LDAP Authentication</h2>
        <ol start="1" class="number-list">
            <li>Log&#160;into EMS Web App with a&#160;User that belongs to an Everyday User&#160;Security Template containing the&#160;<span class="bold">Web&#160;Administrator</span>&#160;role (controlled in the EMS Desktop Client under&#160;<span class="bold">Configuration </span>&gt; <span class="bold">Everyday User Applications</span> &gt;&#160;<span class="bold">Everyday User Security Templates</span>).<br />See Also:&#160;<a href="../../../WebApp/A_V44.1/B_ConfigurationGuide/WebApp_CG_ConfigSecurityTemps.html">Configure Security Templates</a></li>
            <li>From the User Options, select&#160;<span class="bold">Admin Functions</span>.<p><img src="Images/IntegAuthen_Guide/LDAP Authentication.png" /></p></li>
            <li>Then click the&#160;<span class="bold">LDAP Configuration</span>&#160;tab.&#160;<p><img src="Images/IntegAuthen_Guide/LDAP Authentication_1.png" class="PDFlarge" /></p></li>
            <li>The LDAP Configuration window appears, presenting multiple tabs for various settings.&#160;<p><img src="Images/IntegAuthen_Guide/LDAP Authentication_2.png" class="PDFlarge" /></p></li>
        </ol>
        <h3><a name="Configure_EMS_Web_App_Security"></a>Configure EMS Web App Security</h3>
        <ol start="1" class="number-list">
            <li>On&#160;the&#160;<span class="bold">Security&#160;</span>tab:<ol start="1"><li>Select the&#160;<span class="bold">Authenticate users via LDAP</span>&#160;checkbox to enable LDAP authentication.</li><li>If LDAP will be used to assign Everyday User Process Templates to your Web Users, select the&#160;<span class="bold">Use LDAP to assign Process Templates</span>&#160;checkbox.</li><li><span class="bold">Use advanced communication options:</span>&#160;Skip this step for Active Directory environments. Enabling this checkbox requires that you complete the settings on the&#160;<span class="bold">Communication Options</span>&#160;tab.</li><li>In the&#160;<span class="bold">Path for LDAP Query</span>&#160;field, specify a valid LDAP path (example –&#160;LDAP://YourCompany.com)</li><li><span class="bold">List of Domains:</span>&#160;Skip this step if your organization uses a single domain. Otherwise, provide a comma separated list of your domains.</li><li>In the&#160;<span class="bold">LDAP Domain\User</span>&#160;field, enter a Domain User account &#160;that has rights to query LDAP (example – YourDomain\User) &#160;</li><li>In the&#160;<span class="bold">Password&#160;</span>field, enter a valid Password for the User Account entered in the previous step.</li><li>Specify the appropriate LDAP&#160;<span class="bold">Authentication Type</span>&#160;for your environment.</li></ol></li>
        </ol>
        <div class="box-note">
            <p><span class="bold">NOTE:</span>&#160;The other tabs (Communication Options,&#160;Core Properties,&#160;Non-AD Config&#160;and&#160;LDAP Queries) should only be edited with assistance from our Support Department when special circumstances arise with unique configurations of LDAP.</p>
        </div>
        <h3><a name="Configure_Communication_Options"></a>Configure Communication Options</h3>
        <div class="box-warning">
            <p><span class="bold">WARNING:</span>&#160;It is recommended that this tab only be edited with assistance from our Support Department when special circumstances arise with unique configurations of LDAP. If you’re not familiar with the LDAP settings, it is highly recommended to get the assistance of a System Admin in your organization who is familiar with the LDAP settings.</p>
        </div>
        <p>The Communication Options tab includes&#160;fields that define how to fetch a Group or a User when sending communications from the EMS Desktop Client. You can also set the SSL configurations, including the Security Certificate Path. Checking the <span class="bold">Use SSL </span>box will force communication to use SSL.&#160;</p>
        <ul class="unorder-list">
            <li><span class="bold">Certificate Path:</span> If there is a specific certification that you want to use to validate your authentication.</li>
            <li><span class="bold">Authentication Type:</span>&#160;Type of authentication that your LDAP&#160;server will use during the binding process. Basic is the default because it is the most common.&#160;</li>
            <li><span class="bold">Search Root:</span>&#160;The root is the level at which your search will begin.&#160;</li>
            <li><span class="bold">User Search Filter:</span> Specifies the filter to use when performing the user search.&#160;<p>Example:&#160;(&amp;(objectClass=Person)(SAMAccountName={0}))&#160;or&#160;(&amp;(objectClass=Person)(uid={0}))</p></li>
            <li><span class="bold">Group Search Filter:</span>&#160;Specifies the filter to use when performing the group search.&#160;<p>Example:&#160;(&amp;(objectClass=Person)(objectClass=user))</p></li>
            <li><span class="bold">Protocol Version:</span> Insert the current version number here. The default is 3, as the current version should be 3.&#160;</li>
        </ul>
        <h3><a name="Core_Properties"></a>Core Properties</h3>
        <div class="box-warning">
            <p><span class="bold">WARNING:</span>&#160;It is recommended that this tab only be edited with assistance from our Support Department when special circumstances arise with unique configurations of LDAP. If you’re not familiar with the LDAP settings, it is highly recommended to get the assistance of a System Admin in your organization who is familiar with the LDAP settings.</p>
        </div>
        <p>Indicate whether your LDAP implementation is Active Directory. These properties are set to the common defaults, but can be changed here if the LDAP properties differ from the defaults displayed.</p>
        <ul class="unorder-list">
            <li><span class="bold">LDAP Name Property:</span> The property for user name on the user record in LDAP that will be displayed. Displayname&#160;is the default, as it is the most common.&#160;</li>
            <li><span class="bold">LDAP Phone Property:</span> The property for the phone number on the user record in LDAP that will be displayed.&#160;Telephonenumber&#160;is the default, as it is the most common.</li>
            <li><span class="bold">Domain to append to users:</span> This field is unnecessary unless the domain of your user is different from the domain returned from the query.&#160;</li>
            <li><span class="bold">Field for LDAP Group Lookup:</span> This identifies the EMS property that should be utilized when performing the search. For example, if you use LDAP solely to assign templates and you want the EMS Web App to look up group membership using a field other than the login name, then you must enter that field's name here.&#160;</li>
        </ul>
        <h3><a name="Non-AD_Configuration"></a>Non-AD Configuration</h3>
        <div class="box-warning">
            <p><span class="bold">WARNING:</span>&#160;It is recommended that this tab only be edited with assistance from our Support Department when special circumstances arise with unique configurations of LDAP. If you’re not familiar with the LDAP settings, it is highly recommended to get the assistance of a System Admin in your organization who is familiar with the LDAP settings.</p>
        </div>
        <p>If your LDAP implementation is not Active Directory, use these fields to redefine the LDAP property names used when searching directory information.</p>
        <ul class="unorder-list">
            <li><span class="bold">LDAP Account/User ID Property:</span> The property in your LDAP store that contains the user name.&#160;<p>Example: If&#160;sameaccountname=xxxx, then enter&#160;sameaccountname</p></li>
            <li><span class="bold">Full LDAP User ID Format:</span> Leave blank unless authentication requires a full path.&#160;<p>Example: &#160;cn={0},ou=staff,o=yourdomain</p></li>
            <li><span class="bold">LDAP Group Category:</span> The property in your LDAP store that contains the group category.&#160;<p>Example: If filter should be&#160;objectClass=groupOfNames, then property should be&#160;groupOfNames</p></li>
            <li><span class="bold">LDAP&#160;Group Name:</span> The property in your LDAP store that contains the group name.&#160;</li>
            <li><span class="bold">LDAP Group Member Name: </span>The property in your LDAP store that contains the name of a single member in the group.&#160;<p>Example: If member property is&#160;member=jdoe, then property should be&#160;member</p></li>
            <li><span class="bold">LDAP Group Member User Name Attribute:</span> The property of the user record that corresponds to the&#160;group's member property to determine group membership.&#160;</li>
        </ul>
        <h3><a name="LDAP_Queries"></a>LDAP Queries</h3>
        <div class="box-warning">
            <p><span class="bold">WARNING:</span>&#160;It is recommended that this tab only be edited with assistance from our Support Department when special circumstances arise with unique configurations of LDAP. If you’re not familiar with the LDAP settings, it is highly recommended to get the assistance of a System Admin in your organization who is familiar with the LDAP settings.</p>
        </div>
        <p>These are LDAP query overrides to fetch Groups and Users from the domain. These settings rarely need to overridden, but can be used to customize queries.</p>
        <ul class="unorder-list">
            <li><span class="bold">LDAP&#160;query for security groups:</span> Query used to search for security groups in your LDAP&#160;store.&#160;</li>
            <li><span class="bold">LDAP query to find users:</span> Query used to search for users in your LDAP store.</li>
            <li><span class="bold">LDAP query for find users with space:</span> Query used to search for users that have spaces surrounding their user names in your LDAP store.&#160;</li>
        </ul>
        <h3><a name="Save_Your_Configuration"></a>Save Your Configuration</h3>
        <ol start="1" class="number-list">
            <li>Click&#160;<span class="bold">Save</span>.&#160;<div class="box-note"><p><span class="bold">NOTE:</span>&#160;If you want Everyday Users to inherit Everyday User Process Templates based on the LDAP Group(s) with which they belong, proceed to Step 7. Otherwise, you have completed the configuration process.</p></div></li>
            <li>Within EMS Desktop Client, go to the Everyday User Process Templates area (<span class="bold">Configuration </span>&gt; <span class="bold">Web </span>&gt;&#160;<span class="bold">Everyday User Process Templates</span>).</li>
            <li>Within an Everyday User Process&#160;Template, locate the LDAP Groups tab and select the appropriate LDAP Group(s) to map to that Everyday User Process Template.</li>
            <li>Click&#160;<span class="bold">OK</span>.</li>
        </ol>
        <h3><a name="Test_Your_Configuration"></a>Test Your Configuration</h3>
        <ol start="1" class="number-list">
            <li>After completing configuration, navigate to the&#160;<span class="bold">Test Configuration</span>&#160;tab in the EMS Web App under LDAP Configuration.&#160;</li>
            <li>Enter your&#160;Network UserId Without Domain Name.</li>
            <li>Enter your&#160;Password.</li>
            <li>Click&#160;<span class="bold">Test</span>.<ol start="1"><li>If your configuration was successful, you will receive a message in a green box at the top that includes domain information and the words "Authentication successful" (please see example below).</li></ol><p><img src="Images/IntegAuthen_Guide/LDAP Authentication_3.png" alt="LDAPAuthentication_Test Configuration.PNG" class="PDFlarge" /></p><ol start="1" MadCap:continue="true"><li>If the configuration was unsuccessful, you will receive a prompt stating that LDAP could not be accessed. Check your logs to determine the reason for the failure.&#160;</li></ol></li>
        </ol>
        <h3><a name="Configure_Authentication_for_EMS_Mobile_App"></a>Configure Authentication for EMS Mobile App</h3>
        <ol start="1" class="number-list">
            <li>If your organization uses EMS Mobile App, click the <span class="bold">Mobile App</span> tab.</li>
            <li><a href="../../../EMSMobileApp/InstallationGuide/Mobile_SetUpMobileAuthen/Mobile_LDAPAuthen.html">Choose the&#160;LDAP&#160;option</a>.</li>
        </ol>
    </body>
</html>